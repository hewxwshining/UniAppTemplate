{"version":3,"file":"Layout.js","sources":["components/Layout/Layout.vue","E:/ProgramFilesForTools/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RjovdW5pQXBwVGVtcGxhdGUvY29tcG9uZW50cy9MYXlvdXQvTGF5b3V0LnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"layout-container\">\r\n\t\t<view class=\"homeLayout\" :style=\"homeStyles\">\r\n\t\t\t<!-- 使用自定义导航栏组件 -->\r\n\t\t\t<template v-if=\"showNavBar\">\r\n\t\t\t\t<custom-navbar ref=\"CustomNavbarRef\" :title=\"title\" :showSetting=\"showSetting\" :showBack=\"showBack\">\r\n\t\t\t\t\t<template v-slot:left>\r\n\t\t\t\t\t\t<slot name = 'NavBarLeft'>\r\n\t\t\t\t\t\t</slot>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-slot:center>\r\n\t\t\t\t\t\t<slot name = 'NavBarCenter'>\r\n\t\t\t\t\t\t</slot>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-slot:right>\r\n\t\t\t\t\t\t<slot name = 'NavBarRight'>\r\n\t\t\t\t\t\t</slot>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</custom-navbar>\r\n\t\t\t</template>\r\n\t\t\t<!-- 内容区域 -->\r\n\t\t\t<view class=\"main\">\r\n\t\t\t\t<slot></slot>\r\n\t\t\t</view>\r\n\t\t\t<!-- 使用自定义 TabBar -->\r\n\t\t\t<template v-if=\"showTabBar\">\r\n\t\t\t\t<slot name=\"CustomTabBar\">\r\n\t\t\t\t\t<custom-tab-bar ref=\"CustomTabBarRef\" />\r\n\t\t\t\t</slot>\r\n\t\t\t</template>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\n\timport CustomTabBar from \"@/components/CustomTabBar/CustomTabBar.vue\";\r\n\timport CustomNavbar from \"@/components/CustomNavbar/CustomNavbar.vue\";\r\n\r\n\timport { computed, ref } from \"vue\";\r\n\r\n\tconst CustomNavbarRef = ref();\r\n\tconst CustomTabBarRef = ref();\r\n\r\n\tconst props = defineProps({\r\n\t\ttitle: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"首页\",\r\n\t\t},\r\n\t\tshowNavBar: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\tshowTabBar: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\tshowSetting: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tshowBack: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t});\r\n\r\n\t// 获取 CustomNavbar 高度的方法\r\n\tconst getCustomNavbarHeight = () => {\r\n\t\tif (CustomNavbarRef.value) {\r\n\t\t\treturn CustomNavbarRef.value.getNavBarHeight();\r\n\t\t}\r\n\t\treturn 0;\r\n\t};\r\n\r\n\t// 获取 CustomTabBar 高度的方法\r\n\tconst getCustomTabBarHeight = () => {\r\n\t\tif (CustomTabBarRef.value) {\r\n\t\t\treturn CustomTabBarRef.value.getTabBarHeight();\r\n\t\t}\r\n\t\treturn 0;\r\n\t};\r\n\r\n\tconst getStatusSaveHeight = () => {\r\n\r\n\t\tconst {\r\n\t\t\tsafeArea,\r\n\t\t\tscreenHeight,\r\n\t\t\tsafeAreaInsets,\r\n\t\t\tstatusBarHeight\r\n\t\t} = uni.getWindowInfo()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\tlet safaTabHeight = 0\r\n\t\tif (safeArea) {\r\n\r\n\t\t\tsafaTabHeight = screenHeight - safeArea.bottom\r\n\r\n\r\n\r\n\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tstatusBarHeight: statusBarHeight || 0,\r\n\t\t\tstatusTabHeight: safaTabHeight\r\n\t\t};\r\n\t};\r\n\r\n\tconst homeStyles = computed(() => {\r\n\t\t// 获取 CustomNavbar 的实际高度\r\n\t\tconst navbarHeight = getCustomNavbarHeight();\r\n\t\t// 获取 CustomTabBar 的实际高度\r\n\t\tconst tabBarHeight = getCustomTabBarHeight();\r\n\r\n\t\tconst style = {\r\n\t\t\tpaddingTop: navbarHeight + \"px\",\r\n\t\t\tpaddingBottom: tabBarHeight + \"px\",\r\n\t\t};\r\n\r\n\t\tif (!props.showTabBar) {\r\n\t\t\tconst { statusTabHeight } = getStatusSaveHeight();\r\n\t\t\tstyle.paddingBottom = statusTabHeight + \"px\";\r\n\t\t}\r\n\r\n\t\tif (!props.showNavBar) {\r\n\t\t\tconst { statusBarHeight } = getStatusSaveHeight();\r\n\t\t\tstyle.paddingTop = statusBarHeight + \"px\";\r\n\t\t}\r\n\t\treturn style;\r\n\t});\r\n\r\n\t// 暴露 ref 和高度获取方法给父组件\r\n\tdefineExpose({\r\n\t\tCustomNavbarRef,\r\n\t\tCustomTabBarRef,\r\n\t\tgetCustomNavbarHeight,\r\n\t\tgetCustomTabBarHeight,\r\n\t\tgetStatusSaveHeight,\r\n\t});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import './bg.scss';\r\n\r\n\t.layout-container {\r\n\t\t// 小程序会有安全距离\r\n\t\theight: 100vh;\r\n\t\tpadding-bottom: constant(safe-area-inset-bottom);\r\n\r\n\t\t/* padding-bottom: env(safe-area-inset-bottom); */\r\n\t\t// 添加兼容性处理\r\n\t\t@supports not (padding-bottom: env(safe-area-inset-bottom)) {\r\n\t\t\tpadding-bottom: constant(safe-area-inset-bottom);\r\n\t\t}\r\n\r\n\t\toverflow: hidden;\r\n\r\n\t\t.homeLayout {\r\n\t\t\theight: 100%;\r\n\t\t\tdisplay: flex;\r\n\r\n\t\t\t.main {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\toverflow: auto;\r\n\t\t\t\tpadding: 0 20rpx;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #111;\r\n\t\t\t\tposition: relative;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import Component from 'F:/uniAppTemplate/components/Layout/Layout.vue'\nwx.createComponent(Component)"],"names":["ref","uni","computed"],"mappings":";;;;;AAmCC,MAAA,eAAyB,MAAA;AACzB,MAAA,eAAyB,MAAA;;;;;;;;;;;;;;;;;;;;;;;;;;AAIzB,UAAM,kBAAkBA,cAAAA;AACxB,UAAM,kBAAkBA,cAAAA;AAExB,UAAM,QAAQ;AAwBd,UAAM,wBAAwB,MAAM;AACnC,UAAI,gBAAgB,OAAO;AACnB,eAAA,gBAAgB,MAAM;MAC9B;AACO,aAAA;AAAA,IAAA;AAIR,UAAM,wBAAwB,MAAM;AACnC,UAAI,gBAAgB,OAAO;AACnB,eAAA,gBAAgB,MAAM;MAC9B;AACO,aAAA;AAAA,IAAA;AAGR,UAAM,sBAAsB,MAAM;AAE3B,YAAA;AAAA,QACL;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MAAA,IACGC,cAAAA,MAAI;AAWR,UAAI,gBAAgB;AACpB,UAAI,UAAU;AAEb,wBAAgB,eAAe,SAAS;AAAA,MAKzC;AACO,aAAA;AAAA,QACN,iBAAiB,mBAAmB;AAAA,QACpC,iBAAiB;AAAA,MAAA;AAAA,IAClB;AAGK,UAAA,aAAaC,cAAAA,SAAS,MAAM;AAEjC,YAAM,eAAe;AAErB,YAAM,eAAe;AAErB,YAAM,QAAQ;AAAA,QACb,YAAY,eAAe;AAAA,QAC3B,eAAe,eAAe;AAAA,MAAA;AAG3B,UAAA,CAAC,MAAM,YAAY;AAChB,cAAA,EAAE,oBAAoB;AAC5B,cAAM,gBAAgB,kBAAkB;AAAA,MACzC;AAEI,UAAA,CAAC,MAAM,YAAY;AAChB,cAAA,EAAE,oBAAoB;AAC5B,cAAM,aAAa,kBAAkB;AAAA,MACtC;AACO,aAAA;AAAA,IAAA,CACP;AAGY,aAAA;AAAA,MACZ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA,CACA;;;;;;;;;;;;;;;;;;;;;;;;;;AChJF,GAAG,gBAAgB,SAAS;"}