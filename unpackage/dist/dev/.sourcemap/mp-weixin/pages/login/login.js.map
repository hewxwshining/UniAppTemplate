{"version":3,"file":"login.js","sources":["pages/login/login.vue","E:/ProgramFilesForTools/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbG9naW4vbG9naW4udnVl"],"sourcesContent":["<template>\r\n\t<Layout title=\"登录\" :show-tab-bar=\"false\">\r\n\t\t<view class=\"login-content\">\r\n\t\t\t<!-- 登录标题 -->\r\n\t\t\t<view class=\"login-title dflex-c\">\r\n\t\t\t\t<image src=\"/static/images/login/car.png\" mode=\"aspectFit\" style=\"width: 72px; height: 72px;\"></image>\r\n\t\t\t\t<text class=\"title-text\">车联网</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 登录表单 -->\r\n\t\t\t<view class=\"login-form\">\r\n\t\t\t\t<view class=\"login-form-content\">\r\n\r\n\t\t\t\t\t<view class=\"form-item \">\r\n\t\t\t\t\t\t<view class=\"input-label\">账号<text class=\"label-icon\">*</text></view>\r\n\t\t\t\t\t\t<view class=\"input-wrapper dflex\">\r\n\t\t\t\t\t\t\t<input v-model=\"username\" placeholder=\"请输入您的账号\" class=\"input-field\" autocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t:data-form-type=\"'other'\" :data-lpignore=\"'true'\" :data-1p-ignore=\"'true'\"\r\n\t\t\t\t\t\t\t\t:data-bwignore=\"'true'\" :data-dashlane-ignore=\"'true'\"\r\n\t\t\t\t\t\t\t\t:data-bitwarden-watching=\"'false'\" />\r\n\t\t\t\t\t\t\t<uni-icons v-if=\"showClearIcon\" type=\"closeempty\" color=\"#808C99\" size=\"48rpx\"\r\n\t\t\t\t\t\t\t\t@click=\"clearIcon\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<view class=\"input-label\">密码<text class=\"label-icon\">*</text></view>\r\n\t\t\t\t\t\t<view class=\"input-wrapper dflex\">\r\n\t\t\t\t\t\t\t<input :password=\"showPassword\" v-model=\"password\" class=\"input-field\" placeholder=\"请输入密码\"\r\n\t\t\t\t\t\t\t\tautocomplete=\"off\" :data-form-type=\"'other'\" :data-lpignore=\"'true'\"\r\n\t\t\t\t\t\t\t\t:data-1p-ignore=\"'true'\" :data-bwignore=\"'true'\" :data-dashlane-ignore=\"'true'\"\r\n\t\t\t\t\t\t\t\t:data-bitwarden-watching=\"'false'\" />\r\n\t\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\t\t:src=\"!showPassword ?'/static/images/login/psw-open.png':'/static/images/login/psw.png'\"\r\n\t\t\t\t\t\t\t\tmode=\"aspectFill\" style=\"width: 48rpx; height: 48rpx;\" @click=\"changePassword\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 登录按钮 -->\r\n\t\t\t\t<button class=\"login-btn\" :class=\"{ 'disabled': !canLogin }\" :disabled=\"!canLogin\" @click=\"handleLogin\">\r\n\t\t\t\t\t登录\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t</Layout>\r\n\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\n\timport { ref, computed, onMounted } from 'vue'\r\n\timport Layout from '@/components/Layout/Layout.vue';\r\n\r\n\tconst username = ref<string>(\"\");\r\n\tconst password = ref<string>(\"\");\r\n\tconst showPassword = ref<Boolean>(true);\r\n\r\n\r\n\tconst changePassword = () => {\r\n\t\tshowPassword.value = !showPassword.value;\r\n\t};\r\n\tconst showClearIcon = computed(() => {\r\n\t\treturn !!username.value.length;\r\n\t});\r\n\tconst clearIcon = function () {\r\n\t\tusername.value = \"\";\r\n\t};\r\n\r\n\r\n\tconst canLogin = computed(() => {\r\n\t\treturn username.value && password.value\r\n\t})\r\n\r\n\r\n\tconst handleLogin = async () => {\r\n\t\tif (!canLogin.value) return\r\n\r\n\t\ttry {\r\n\r\n\r\n\t\t\t// 模拟API调用\r\n\t\t\tawait new Promise(resolve => setTimeout(resolve, 1000))\r\n\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '登录成功',\r\n\t\t\t\ticon: 'success'\r\n\t\t\t})\r\n\r\n\t\t\t// 登录成功后跳转到首页\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t})\r\n\t\t\t}, 1500)\r\n\r\n\t\t} catch (error) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '登录失败，请检查验证码',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.login-container {\r\n\t\tmin-height: 100vh;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\t.login-content {\r\n\t\tpadding: 30rpx 20rpx;\r\n\t\tmargin-top: 100rpx;\r\n\t\t/* 为固定导航栏留出空间 */\r\n\t}\r\n\r\n\t.login-title {\r\n\t\ttext-align: center;\r\n\t\tmargin-bottom:60rpx;\r\n\r\n\t\t.title-text {\r\n\t\t\tfont-size: 48rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: #fff;\r\n\t\t\tmargin-left: 5px;\r\n\t\t}\r\n\t}\r\n\r\n\t.login-form {\r\n\t\t.login-form-content {\r\n\t\t\tbackground-color: #D2E5F6;\r\n\t\t\tborder-radius: 8px;\r\n\t\t}\r\n\r\n\t\t.form-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 32rpx;\r\n\r\n\t\t\t.input-label {\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tcolor: #000;\r\n\t\t\t\twidth: 162rpx;\r\n\r\n\t\t\t\t.label-icon {\r\n\t\t\t\t\tcolor: #f00;\r\n\t\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.input-wrapper {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\t// background-color: #ffffff;\r\n\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\tpadding: 0 24rpx;\r\n\r\n\t\t\t\t.input-field {\r\n\t\t\t\t\theight: 88rpx;\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\twidth: 100%;\r\n\r\n\t\t\t\t\t&::placeholder {\r\n\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.uni-input-input {\r\n\t\t\t\t\t\tfont-size: 32rpx !important;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.login-btn {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 96rpx;\r\n\t\t\tline-height: 96rpx;\r\n\t\t\tbackground-color: #295AF5;\r\n\t\t\tcolor: #ffffff;\r\n\t\t\tborder: none;\r\n\t\t\tborder-radius: 68rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tmargin-top: 60rpx;\r\n\r\n\t\t\t&.disabled {\r\n\t\t\t\tbackground-color: #5D98FB;\r\n\t\t\t\tcolor: #fff !important;\r\n\t\t\t}\r\n\r\n\t\t\t&::after {\r\n\t\t\t\tborder: none;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'F:/uniAppTemplate/pages/login/login.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","uni"],"mappings":";;;;;;;;;;;AAqDC,MAAA,SAAmB,MAAA;;;;AAEb,UAAA,WAAWA,kBAAY,EAAE;AACzB,UAAA,WAAWA,kBAAY,EAAE;AACzB,UAAA,eAAeA,kBAAa,IAAI;AAGtC,UAAM,iBAAiB,MAAM;AACf,mBAAA,QAAQ,CAAC,aAAa;AAAA,IAAA;AAE9B,UAAA,gBAAgBC,cAAAA,SAAS,MAAM;AAC7B,aAAA,CAAC,CAAC,SAAS,MAAM;AAAA,IAAA,CACxB;AACD,UAAM,YAAY,WAAY;AAC7B,eAAS,QAAQ;AAAA,IAAA;AAIZ,UAAA,WAAWA,cAAAA,SAAS,MAAM;AACxB,aAAA,SAAS,SAAS,SAAS;AAAA,IAAA,CAClC;AAGD,UAAM,cAAc,YAAY;AAC/B,UAAI,CAAC,SAAS;AAAO;AAEjB,UAAA;AAIH,cAAM,IAAI,QAAQ,CAAA,YAAW,WAAW,SAAS,GAAI,CAAC;AAEtDC,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QAAA,CACN;AAGD,mBAAW,MAAM;AAChBA,wBAAAA,MAAI,SAAS;AAAA,YACZ,KAAK;AAAA,UAAA,CACL;AAAA,WACC,IAAI;AAAA,eAEC,OAAO;AACfA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QAAA,CACN;AAAA,MACF;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrGF,GAAG,WAAW,eAAe;"}